<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
<title>MetaMaestro</title>

<style>
:root{
  --glass-bg: rgba(20,20,24,.55);
  --glass-brd: rgba(255,255,255,.12);
  --text: #f4f4f5;
  --muted: rgba(255,255,255,.55);
  --red: #ef4444;
  --green: #22c55e;
}

/* ===== FONDO ROJO CON RESPIRACIÓN ===== */
body{
  margin:0;
  min-height:100vh;
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text",system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  color:var(--text);
  background:
    radial-gradient(900px 520px at 50% 18%, rgba(239,68,68,.40) 0%, rgba(239,68,68,.12) 42%, transparent 70%),
    radial-gradient(1200px 900px at 50% 50%, rgba(0,0,0,.0) 0%, rgba(0,0,0,.45) 58%, rgba(0,0,0,.88) 100%),
    linear-gradient(180deg, #07070a, #0b0b10);
  animation:bgBreath 10s ease-in-out infinite;
  overflow-x:hidden;
}

@keyframes bgBreath{
  0%,100%{ filter:brightness(.92) contrast(1.05) saturate(1.1); }
  50%{ filter:brightness(1.06) contrast(1.08) saturate(1.25); }
}

/* ===== GLASS ===== */
.glass{
  background:var(--glass-bg);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  border:1px solid var(--glass-brd);
  border-radius:24px;
  box-shadow:0 20px 50px rgba(0,0,0,.35);
}

.container{
  max-width:480px;
  margin:0 auto;
  padding:24px 16px 40px;
}

h1{
  font-size:34px;
  font-weight:900;
  margin:8px 0 2px;
}
.subtitle{
  color:var(--muted);
  margin-bottom:18px;
}

.segment{
  display:flex;
  background:rgba(0,0,0,.35);
  border-radius:14px;
  padding:4px;
  margin-bottom:16px;
}
.segment button{
  flex:1;
  padding:10px;
  border:none;
  border-radius:10px;
  background:transparent;
  color:var(--muted);
  font-weight:700;
}
.segment button.active{
  background:var(--red);
  color:white;
}

.label{
  font-size:12px;
  color:var(--muted);
  margin-bottom:6px;
}

input{
  width:100%;
  padding:14px;
  border-radius:14px;
  border:1px solid var(--glass-brd);
  background:rgba(0,0,0,.35);
  color:white;
  font-size:16px;
}

input.green{
  border-color:rgba(34,197,94,.4);
  color:#bbf7d0;
}

.section{
  margin-bottom:18px;
}

.result{
  font-size:32px;
  font-weight:900;
  margin:10px 0;
}

.progress{
  height:14px;
  background:rgba(255,255,255,.08);
  border-radius:999px;
  overflow:hidden;
}
.progress div{
  height:100%;
  background:linear-gradient(90deg,#dc2626,#ef4444,#f97316);
  width:0%;
  transition:width 1s ease;
}

.footer{
  text-align:center;
  font-size:11px;
  color:rgba(255,255,255,.35);
  margin-top:24px;
}
</style>
</head>

<body>

<div class="container">

  <h1>Meta<span style="color:#ef4444">Maestro</span></h1>
  <div class="subtitle">Control total sobre tus finanzas</div>

  <div class="segment">
    <button id="btnTime" class="active">Calcular Fecha</button>
    <button id="btnMoney">Calcular Ahorro</button>
  </div>

  <div class="glass section">
    <div class="label">Nombre de la meta</div>
    <input id="goalName" value="Mi Nueva Moto" />
  </div>

  <div class="glass section">
    <div class="label">Costo total ($)</div>
    <input id="totalCost" type="number" value="2500000" />
  </div>

  <div class="glass section">
    <div class="label">Ya tenés ahorrado ($)</div>
    <input id="currentSavings" class="green" type="number" value="500000" />
  </div>

  <div class="glass section">
    <div class="label" id="dynamicLabel">Ahorro semanal</div>
    <input id="contribution" type="number" value="50000" />
  </div>

  <div class="glass section">
    <div class="label">Resultado</div>
    <div id="result" class="result">$0</div>
    <div class="progress">
      <div id="progressBar"></div>
    </div>
  </div>

  <div class="footer">MetaMaestro · App local · iPhone friendly</div>

</div>

<script>
let mode = "time";

const totalCost = document.getElementById("totalCost");
const currentSavings = document.getElementById("currentSavings");
const contribution = document.getElementById("contribution");
const result = document.getElementById("result");
const progressBar = document.getElementById("progressBar");
const dynamicLabel = document.getElementById("dynamicLabel");

document.getElementById("btnTime").onclick = () => switchMode("time");
document.getElementById("btnMoney").onclick = () => switchMode("money");

function switchMode(m){
  mode = m;
  document.getElementById("btnTime").classList.toggle("active", m==="time");
  document.getElementById("btnMoney").classList.toggle("active", m==="money");
  dynamicLabel.textContent = m==="time" ? "Ahorro semanal" : "Ahorro necesario";
  calculate();
}

function money(n){
  return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",maximumFractionDigits:0}).format(n);
}

function calculate(){
  const total = +totalCost.value || 0;
  const saved = +currentSavings.value || 0;
  const contrib = +contribution.value || 0;
  const remaining = Math.max(0,total - saved);

  if(mode==="time"){
    const weeks = contrib>0 ? Math.ceil(remaining / contrib) : 0;
    result.textContent = weeks>0 ? weeks+" semanas" : "—";
  }else{
    result.textContent = money(remaining);
  }

  const progress = total>0 ? Math.min(100,(saved/total)*100) : 0;
  progressBar.style.width = progress+"%";
}

["input","change"].forEach(e=>{
  totalCost.addEventListener(e,calculate);
  currentSavings.addEventListener(e,calculate);
  contribution.addEventListener(e,calculate);
});

calculate();
</script>

</body>
</html>
